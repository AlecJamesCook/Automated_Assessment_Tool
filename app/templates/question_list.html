{% extends "base.html" %}
{% block content %}

<h1>Previous Questions</h1>


<div class="btn-group order_by_button">
  <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Order By</button>
  <ul class="dropdown-menu">
    {% if order_by == "question_type" %}
    <li><a class="dropdown-item active" href="{{ url_for('question_list', order_by = 'question_type') }}">Question Type</a></li>
    {% else %}
    <li><a class="dropdown-item" href="{{ url_for('question_list', order_by = 'question_type') }}">Question Type</a></li>
    {% endif %}
    {% if order_by == "topic" %}
    <li><a class="dropdown-item active" href="{{ url_for('question_list', order_by = 'topic') }}">Tags</a></li>
    {% else %}
    <li><a class="dropdown-item" href="{{ url_for('question_list', order_by = 'topic') }}">Tags</a></li>
    {% endif %}
    {% if order_by == "marks_asc" %}
    <li><a class="dropdown-item active" href="{{ url_for('question_list', order_by = 'marks_asc') }}">Marks (Asc)</a></li>
    {% else %}
    <li><a class="dropdown-item" href="{{ url_for('question_list', order_by = 'marks_asc') }}">Marks (Asc)</a></li>
    {% endif %}
    {% if order_by == "marks_desc" %}
    <li><a class="dropdown-item active" href="{{ url_for('question_list', order_by = 'marks_desc') }}">Marks (Desc)</a></li>
    {% else %}
    <li><a class="dropdown-item" href="{{ url_for('question_list', order_by = 'marks_desc') }}">Marks (Desc)</a></li>
    {% endif %}
    {% if order_by == "difficulty_asc" %}
    <li><a class="dropdown-item active" href="{{ url_for('question_list', order_by = 'difficulty_asc') }}">Difficulty (Asc)</a></li>
    {% else %}
    <li><a class="dropdown-item" href="{{ url_for('question_list', order_by = 'difficulty_asc') }}">Difficulty (Asc)</a></li>
    {% endif %}
    {% if order_by == "difficulty_desc" %}
    <li><a class="dropdown-item active" href="{{ url_for('question_list', order_by = 'difficulty_desc') }}">Difficulty (Desc)</a></li>
    {% else %}
    <li><a class="dropdown-item" href="{{ url_for('question_list', order_by = 'difficulty_desc') }}">Difficulty (Desc)</a></li>
    {% endif %}
  </ul>
</div>

<!--JAVA COLLAPSIBLE-->
<button type="button" class="collapsible">Java</button>
<div class="content" id = "collapsible_java">

  {% for question in questions %}
  {% if question.subject_tag == "Java" %}

  {% if question.question_type == "fill_in_the_blank" %}
  {% with fill_in_the_blank_question = question %}
    {% include "fill_in_the_blank_question.html" %}
  {% endwith %}

  {% else %}
  {% with mcquestion = question %}
    {% include "mc_question.html" %}
  {% endwith %}

  {% endif %}
  {% endif %} <!--This is for subject_tag-->
  {% endfor %}

</div>

<!--JavaScript COLLAPSIBLE-->
<button type="button" class="collapsible">JavaScript</button>
<div class="content" id = "collapsible_javascript">

  {% for question in questions %}
  {% if question.subject_tag == "JavaScript" %}
  {% if question.question_type == "fill_in_the_blank" %}
  {% with fill_in_the_blank_question = question %}
    {% include "fill_in_the_blank_question.html" %}
  {% endwith %}

  {% else %}

  {% with mcquestion = question %}
  {% include "mc_question.html" %}
  {% endwith %}



  {% endif %}
  {% endif %} <!--This is for subject_tag-->
  {% endfor %}
</div>

<!--PYTHON COLLAPSIBLE-->
<button type="button" class="collapsible">Python</button>
<div class="content" id = "collapsible_python">
  {% for question in questions %}
  {% if question.subject_tag == "Python" %}

  {% if question.question_type == "fill_in_the_blank" %}
  {% with fill_in_the_blank_question = question %}
    {% include "fill_in_the_blank_question.html" %}
  {% endwith %}

  {% else %}
  {% with mcquestion = question %}
    {% include "mc_question.html" %}
  {% endwith %}

  {% endif %}
  {% endif %} <!--This is for subject_tag-->
  {% endfor %}
</div>

<!--SQL COLLAPSIBLE-->
<button type="button" class="collapsible">SQL</button>
<div class="content" id = "collapsible_sql">
  {% for question in questions %}
  {% if question.subject_tag == "SQL" %}

  {% if question.question_type == "fill_in_the_blank" %}
  {% with fill_in_the_blank_question = question %}
    {% include "fill_in_the_blank_question.html" %}
  {% endwith %}

  {% else %}
  {% with mcquestion = question %}
    {% include "mc_question.html" %}
  {% endwith %}

  {% endif %}
  {% endif %} <!--This is for subject_tag-->
  {% endfor %}
</div>

<!--Other COLLAPSIBLE-->
<button type="button" class="collapsible">Miscellaneous</button>
<div class="content" id = "collapsible_misc">
  {% for question in questions %}
  {% if question.subject_tag == "Other" %}

  {% if question.question_type == "fill_in_the_blank" %}
  {% with fill_in_the_blank_question = question %}
    {% include "fill_in_the_blank_question.html" %}
  {% endwith %}

  {% else %}
  {% with mcquestion = question %}
    {% include "mc_question.html" %}
  {% endwith %}

  {% endif %}
  {% endif %} <!--This is for subject_tag-->
  {% endfor %}
</div>


<!--Script for collapsible sections-->

<script>
  
  var coll = document.getElementsByClassName("collapsible");
  var i;
  
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active_collapsible");
      var content = this.nextElementSibling;
      if (content.style.maxHeight){
        content.style.maxHeight = null;
      } else {
        content.style.maxHeight = content.scrollHeight + "px";
      }
    });
  }
</script>


{% endblock %}
